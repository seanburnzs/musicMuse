{% extends "base.html" %}

{% block header_title %}{% endblock %}

{% block content %}
<div class="customize-hof-container">
  <div class="customize-hof-header">
    <h2>Customize Your Vault</h2>
    <p>Select up to 3 favorite artists, albums, and tracks to showcase on your profile.</p>
  </div>
  
  <form method="POST" action="{{ url_for('profile.customize_hall_of_fame') }}" class="customize-hof-form">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
    
    <div class="hof-section">
      <h3>Favorite Artists</h3>
      <div class="hof-slots">
        {% for position in range(1, 4) %}
          <div class="hof-slot">
            <div class="slot-number">{{ position }}</div>
            <select name="artist_{{ position }}" class="hof-select">
              <option value="">-- Select Artist --</option>
              {% for artist_id, artist_name, image_url, total_streams, total_hours in top_artists %}
                <option value="{{ artist_id }}" {% if hof_selections.artists.get(position) == artist_id %}selected{% endif %}>
                  {{ artist_name }} ({{ total_streams }} streams)
                </option>
              {% endfor %}
            </select>
          </div>
        {% endfor %}
      </div>
    </div>
    
    <div class="hof-section">
      <h3>Favorite Albums</h3>
      <div class="hof-slots">
        {% for position in range(1, 4) %}
          <div class="hof-slot">
            <div class="slot-number">{{ position }}</div>
            <select name="album_{{ position }}" class="hof-select">
              <option value="">-- Select Album --</option>
              {% for album_id, album_name, artist_name, image_url, total_streams, total_hours, artist_id in top_albums %}
                <option value="{{ album_id }}" {% if hof_selections.albums.get(position) == album_id %}selected{% endif %}>
                  {{ album_name }} by {{ artist_name }} ({{ total_streams }} streams)
                </option>
              {% endfor %}
            </select>
          </div>
        {% endfor %}
      </div>
    </div>
    
    <div class="hof-section">
      <h3>Favorite Tracks</h3>
      <div class="hof-slots">
        {% for position in range(1, 4) %}
          <div class="hof-slot">
            <div class="slot-number">{{ position }}</div>
            <select name="track_{{ position }}" class="hof-select">
              <option value="">-- Select Track --</option>
              {% for track_id, track_name, artist_name, image_url, total_streams, total_hours, artist_id in top_tracks %}
                <option value="{{ track_id }}" {% if hof_selections.tracks.get(position) == track_id %}selected{% endif %}>
                  {{ track_name }} by {{ artist_name }} ({{ total_streams }} streams)
                </option>
              {% endfor %}
            </select>
          </div>
        {% endfor %}
      </div>
    </div>
    
    <div class="form-actions">
      <a href="{{ url_for('profile.user_settings') }}" class="cancel-button">Cancel</a>
      <button type="submit" class="save-button">Save Vault</button>
    </div>
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Preview selected items (optional enhancement)
    const hofSelects = document.querySelectorAll('.hof-select');
    
    hofSelects.forEach(select => {
      select.addEventListener('change', function() {
        const selectedOption = this.options[this.selectedIndex];
        const slotElement = this.closest('.hof-slot');
        
        // You could add preview functionality here if desired
        // For example, showing a thumbnail of the selected artist/album/track
      });
    });
  });
</script>
{% endblock %}
